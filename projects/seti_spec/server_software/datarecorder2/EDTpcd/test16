#! /bin/csh -f

echo "#######################################################################"
echo "#  Dual board 16 channel test with Xilinx generated output data       #"
echo "#  using 32 bit counter words.  Tests 16 channel high speed input.    #"
echo "#######################################################################"
rdwr16 -n 16 -a -x -X -r 0 -w 1 -l 10 -t
rdwr16 -n 16 -a -x -X -r 1 -w 0 -l 10 -t

echo "#######################################################################"
echo "#  Dual board 16 channel test with output data generated by DMA       #"
echo "#  using 8 bit counter words.  Tests 16 channel input and output.     #"
echo "#######################################################################"
rdwr16 -n 16 -a -D -r 0 -w 1 -l 10 -t
rdwr16 -n 16 -a -D -r 1 -w 0 -l 10 -t


echo "#######################################################################"
echo "#  Dual board 16 channel test with output data generated by DMA       #"
echo "#  using 64-bit counter words with 1 bit per nibble.  Tests           #"
echo "#  byte swap, word swap and MSB bit order.                            #"
echo "#######################################################################"
set solaris = `uname -a | grep SunOS`
if ( "$solaris" != "" ) then
    rdwr16 -n 16 -a -p 5 -D -r 0 -w 1 -l 10 -t
    rdwr16 -n 16 -a -p 5 -D -r 1 -w 0 -l 10 -t
endif



echo "#######################################################################"
echo "#  Dual board 16 channel test with output data generated by DMA       #"
echo "#  with lower 8 channels going one way and upper 8 going the other    #"
echo "#  using 8 bit counter data.  Tests combined input and output.        #"
echo "#######################################################################"
rdwr16 -c 0 -n 8 -a -R rdwr16.cfg -W wrrd16.cfg -D -r 0 -w 1 -l 10 -t &
sleep 1
rdwr16 -Z -c 8 -n 8 -a -D -r 1 -w 0 -l 10 -t
sleep 2
rdwr16 -c 0 -n 8 -a -R rdwr16.cfg -W wrrd16.cfg -D -r 1 -w 0 -l 10 -t &
sleep 1
rdwr16 -Z -c 8 -n 8 -a -D -r 0 -w 1 -l 10 -t
