#NO WHITESPACE BETWEEN TEXT DELIMITERS!
#This is a sample config file for PAPER South Africa with 16 dual-pol antennas.
#It will be automatically overwritten when corr_init is run.

[borphserver]
#List of servers to be used for X engines
#Each FPGA should be given a seperate entry. format:[server1]:[port],[server2]:[port],[server3...
servers = roach020142:7147,roach020138:7147,roach020139:7147,roach020135:7147
#bitstream to load the x engine FPGAs. Should be present and load-able by ROACH's KATCP server
bitstream = r_4f_2x_16a_r323a_2010_Mar_11_1622.bof

[correlator]
#number of frequency channels
n_chans = 1024
#number of antennas in the design.
n_ants = 16
#fft shifting schedule in decimal. A binary '1' shifts, a zero does not.
fft_shift = 2047 
#Number of spectra to integrate in DRAM.
acc_len = 1024
#acc_len = 8192
#Number of integrations performed inherently in the X engine.
xeng_acc_len = 128
#Clockrate of ADCs in GHz.
adc_clk = 0.200
#Number of stokes parameters calculated.
n_stokes = 4
#Number of X engines per FPGA
x_per_fpga = 2
#Number of F engine clock cycles between X engine syncs. This is generated by the descramble block in the X engines. 2^18 = 262144
clk_per_sync = 262144
#Mixing freqency as a fraction of the sampling frequency. (the DDC block in the F engines). eg, 0.25. Set to zero if no DDC is present.
ddc_mix_freq = 0
#Frequency decimation of the DDC block in the F engines. eg, 4
ddc_decimation = 1
#Number of quantisation bits
feng_bits = 4
#Logical binary point position of F engine data
feng_fix_pnt_pos = 3
#pkt len of 10GbE data in 64 bit words
10gbe_pkt_len = 32
#UDP data port
10gbe_port = 8888
#Starting ip address to use (will be auto-incremented for different x engines)
10gbe_ip = 10.0.0.128
#clock rate in MHz for X engine boards.
x_eng_clk = 210
#Number of dual-pol antennas' data coming over one XAUI link
n_ants_per_xaui = 4
#Number of XAUI ports in use per X engine FPGA
n_xaui_ports_per_fpga = 1
#Number of accumulations used during ADC amplitude averaging
adc_levels_acc_len = 65536
#Number of bits in ADC
adc_bits = 8
#XAUI userspace-address on F engines for base_ant_offset
antenna_offset_addr = 8193

[receiver]
#UDP receiver for output data
rx_udp_port = 7148
rx_udp_ip = 10.0.0.1
#instance ID is populated in lower bits of SPEAD packet option field ID 2
instance_id=0
#Output packet payload length in bytes. Does not include SPEAD options fields.
rx_pkt_payload_len = 1024

[equalisation]
#Decimation. Adjacent frequency channels share coefficients. The center equalisation value is chosen for adjacent bins. n_eq_coeffs_per_polarisation == n_chans/eq_decimation
eq_decimation=32
#Tolerance to use for auto-equalization
tolerance = 0.01
#Perform automatic equalization (=1) or set to fixed EQ_poly values (=0)
auto_eq = 0
#Starting point for auto-equalization or values for manual eq programming.
#One line entry per polarisation. Item is a list of polynomial coefficients.
#Eg,
#eq_poly_0x = 10,30,40
#corresponds to 10x^2 + 30x + 40 where x is the frequency channel index.
eq_poly_0x  = 500
eq_poly_0y  = 500
eq_poly_1x  = 500
eq_poly_1y  = 0
eq_poly_2x  = 500
eq_poly_2y  = 500
eq_poly_3x  = 500
eq_poly_3y  = 500

eq_poly_4x  = 500
eq_poly_4y  = 500
eq_poly_5x  = 500
eq_poly_5y  = 500
eq_poly_6x  = 500
eq_poly_6y  = 500
eq_poly_7x  = 500
eq_poly_7y  = 500

eq_poly_8x  = 500
eq_poly_8y  = 500
eq_poly_9x  = 500
eq_poly_9y  = 500
eq_poly_10x = 500
eq_poly_10y = 500
eq_poly_11x = 500
eq_poly_11y = 500

eq_poly_12x = 500
eq_poly_12y = 500
eq_poly_13x = 500
eq_poly_13y = 500
eq_poly_14x = 500
eq_poly_14y = 500
eq_poly_15x = 500
eq_poly_15y = 500

#eq_poly_0x = 150
#eq_poly_0y = 180
#eq_poly_1x = 150
#eq_poly_1y = 150
#eq_poly_2x = 150
#eq_poly_2y = 200
#eq_poly_3x = 180
#eq_poly_3y = 100

#eq_poly_4x = 140
#eq_poly_4y = 130
#eq_poly_5x = 100
#eq_poly_5y = 100
#eq_poly_6x = 100
#eq_poly_6y = 145
#eq_poly_7x = 100
#eq_poly_7y = 90

#eq_poly_8x = 120
#eq_poly_8y = 120
#eq_poly_9x = 250
#eq_poly_9y = 100
#eq_poly_10x =120
#eq_poly_10y =120
#eq_poly_11x =150
#eq_poly_11y =120

#eq_poly_12x = 130
#eq_poly_12y = 120
#eq_poly_13x = 120
#eq_poly_13y = 140
#eq_poly_14x = 150
#eq_poly_14y = 100
#eq_poly_15x = 120
#eq_poly_15y = 140

